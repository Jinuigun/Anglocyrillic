<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anglocyrillic Translator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f7f7;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen p-4">
    <div class="bg-white p-6 md:p-10 rounded-xl shadow-lg w-full max-w-4xl mx-auto flex flex-col md:flex-row space-y-6 md:space-y-0 md:space-x-6">
        <!-- Main Content Area -->
        <div class="flex-1">
            <h1 class="text-2xl font-bold text-gray-800 mb-6 text-center">Anglocyrillic Translator</h1>
            <p class="text-gray-600 mb-6 text-center">Enter text below to translate between English and Anglocyrillic alphabet.(Translations MAY not be 100% accurate read doc) <br> https://docs.google.com/document/d/1SKT9HegJK-Jo8xLxUZ1KQ7xLKtasOp4SbFhwhytNV0o/edit?usp=sharing </p>

            <!-- Language Switcher and Text Areas -->
            <div class="space-y-4">
                <!-- English Input/Output -->
                <div class="flex flex-col">
                    <label id="inputLabel" for="inputText" class="text-lg font-medium text-gray-700 mb-2 transition-colors duration-300">English Text</label>
                    <textarea id="inputText" rows="6" placeholder="Type or paste your text here..." class="w-full p-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-shadow duration-300"></textarea>
                </div>

                <!-- Swap Button -->
                <div class="flex justify-center my-4">
                    <button id="swapBtn" class="p-2 bg-gray-200 text-gray-700 rounded-full hover:bg-gray-300 transition-transform duration-300 transform hover:scale-110">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4" />
                        </svg>
                    </button>
                </div>

                <!-- Anglocyrillic Input/Output -->
                <div class="flex flex-col">
                    <label id="outputLabel" for="outputText" class="text-lg font-medium text-gray-700 mb-2 transition-colors duration-300">Anglocyrillic Text</label>
                    <textarea id="outputText" rows="6" placeholder="Translated text will appear here..." class="w-full p-4 border border-gray-300 rounded-lg bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-shadow duration-300" readonly></textarea>
                </div>

                <!-- Translate Button -->
                <div class="flex justify-center mt-6">
                    <button id="translateBtn" class="px-8 py-3 bg-blue-600 text-white font-semibold rounded-full shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transition-all duration-300 transform hover:-translate-y-1">
                        Translate
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        const inputTextarea = document.getElementById('inputText');
        const outputTextarea = document.getElementById('outputText');
        const translateBtn = document.getElementById('translateBtn');
        const swapBtn = document.getElementById('swapBtn');
        const inputLabel = document.getElementById('inputLabel');
        const outputLabel = document.getElementById('outputLabel');

        let isAnglocyrillicToEnglish = false;

        const anglocyrillicToEnglishMap = new Map([
            ['А', 'A'], ['а', 'a'], ['Б', 'B'], ['б', 'b'], ['В', 'V'], ['в', 'v'],
            ['Г', 'G'], ['г', 'g'], ['Д', 'D'], ['д', 'd'], ['Е', 'E'], ['е', 'e'],
            ['Ё', 'Yo'], ['ё', 'yo'], ['Ж', 'Zh'], ['ж', 'zh'], ['З', 'Z'], ['з', 'z'],
            ['И', 'I'], ['и', 'i'], ['І', 'I'], ['і', 'i'], ['Й', 'Y'], ['й', 'y'],
            ['К', 'K'], ['к', 'k'], ['Л', 'L'], ['л', 'l'], ['М', 'M'], ['м', 'm'],
            ['Н', 'N'], ['н', 'n'], ['О', 'O'], ['о', 'o'], ['П', 'P'], ['п', 'p'],
            ['Р', 'R'], ['р', 'r'], ['С', 'S'], ['с', 's'], ['Т', 'T'], ['т', 't'],
            ['У', 'U'], ['у', 'u'], ['Ф', 'F'], ['ф', 'f'], ['Х', 'H'], ['х', 'h'],
            ['Ц', 'Ts'], ['ц', 'ts'], ['Ч', 'Ch'], ['ч', 'ch'], ['Ш', 'Sh'], ['ш', 'sh'],
            ['Э', 'E'], ['э', 'e'], ['Ю', 'Yu'], ['ю', 'yu'], ['Я', 'Ya'], ['я', 'ya'],
            ['Ў', 'W'], ['ў', 'w'], ['Џ', 'J'], ['џ', 'j'], ['Ѳ', 'Th'], ['ѳ', 'th'],
            ['Ҙ', 'Th'], ['ҙ', 'th'], ['Ң', 'Ng'], ['ң', 'ng'], ['Ѹ', 'Oo'], ['ѹ', 'oo'],
            ['ѯ', 'X'], ['ѯ', 'x'], ['КЎ', 'Qu'], ['кў', 'qu'],
            ['Ь', ''], ['ь', '']
        ]);
        
        const englishToAnglocyrillicMap = new Map([
            ['ya', 'я'], ['yu', 'ю'], ['yo', 'ё'],
            ['sh', 'ш'], ['ch', 'ч'], ['zh', 'ж'], ['th', 'Ҙ'], ['ph', 'ф'],
            ['ng', 'ң'], ['ts', 'ц'], ['qu', 'кў'], ['oo', 'Ѹ'], ['ie', 'ие'],
            ['a', 'а'], ['b', 'б'], ['c', 'к'], ['d', 'д'], ['e', 'е'],
            ['f', 'ф'], ['g', 'г'], ['h', 'х'], ['i', 'и'], ['j', 'џ'],
            ['k', 'к'], ['l', 'л'], ['m', 'м'], ['n', 'н'], ['o', 'о'],
            ['p', 'п'], ['q', 'к'], ['r', 'р'], ['s', 'с'], ['t', 'т'],
            ['u', 'у'], ['v', 'в'], ['w', 'ў'], ['x', 'ѯ'], ['y', 'й'],
            ['z', 'з']
        ]);
        
        // This array is used for replacement order, from longest to shortest
        const englishKeysSorted = Array.from(englishToAnglocyrillicMap.keys()).sort((a, b) => b.length - a.length);
        const anglocyrillicKeysSorted = Array.from(anglocyrillicToEnglishMap.keys()).sort((a, b) => b.length - a.length);

        function translateToAnglocyrillic(text) {
            let translatedText = text.toLowerCase();
            translatedText = translatedText.replace(/\bi\b/g, 'І');
            
            for (const enKey of englishKeysSorted) {
                const regex = new RegExp(enKey, 'g');
                translatedText = translatedText.replace(regex, englishToAnglocyrillicMap.get(enKey));
            }
            
            translatedText = translatedText.replace(/(^|[.?!]\s+)([а-я])/g, (match, p1, p2) => p1 + p2.toUpperCase());
            return translatedText;
        }

        function translateToEnglish(text) {
            let translatedText = text;
            for (const cyKey of anglocyrillicKeysSorted) {
                const regex = new RegExp(cyKey, 'g');
                const enValue = anglocyrillicToEnglishMap.get(cyKey);
                translatedText = translatedText.replace(regex, enValue);
            }
            return translatedText;
        }

        function performTranslation() {
            if (isAnglocyrillicToEnglish) {
                const anglocyrillicText = inputTextarea.value;
                outputTextarea.value = translateToEnglish(anglocyrillicText);
            } else {
                const englishText = inputTextarea.value;
                outputTextarea.value = translateToAnglocyrillic(englishText);
            }
        }
        
        function swapLanguages() {
            isAnglocyrillicToEnglish = !isAnglocyrillicToEnglish;
            const tempValue = inputTextarea.value;
            inputTextarea.value = outputTextarea.value;
            outputTextarea.value = tempValue;
            
            if (isAnglocyrillicToEnglish) {
                inputLabel.textContent = 'Anglocyrillic Text';
                outputLabel.textContent = 'English Text';
                inputTextarea.placeholder = 'Type or paste your Anglocyrillic text here...';
                outputTextarea.placeholder = 'Translated English text will appear here...';
            } else {
                inputLabel.textContent = 'English Text';
                outputLabel.textContent = 'Anglocyrillic Text';
                inputTextarea.placeholder = 'Type or paste your English text here...';
                outputTextarea.placeholder = 'Translated Anglocyrillic text will appear here...';
            }
            
            performTranslation();
        }

        translateBtn.addEventListener('click', performTranslation);
        swapBtn.addEventListener('click', swapLanguages);
    </script>
</body>
</html>
